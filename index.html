<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./css/style.css" />
  </head>
  <body>
    <nav>
      <div class="nav__wrapper">
        <span class="nav__logo"> cedar </span>

        <ul class="nav__links">
          <li class="nav__link"><a href="./index.html">Home</a></li>
          <li class="nav__link"><a href="./about.html">About</a></li>
          <li class="nav__link"><a href="./faq.html">Faq</a></li>

          <li class="nav__link">
            <span
              ><a href="/specialities/infotech/index.html"
                >Information Technology</a
              ></span
            >
            <ul class="nav__dropdown">
              <li class="dropdown__item">
                <a href="/specialities/infotech/post_grad_online.html"
                  >Post-graduate Programs Online And in VA</a
                >
              </li>
              <li class="dropdown__item">
                <a href="/specialities/infotech/financial_aid_scholarships.html"
                  >Financial Aid and Scholarship</a
                >s
              </li>
            </ul>
          </li>

          <li class="nav__link">
            <span
              ><a href="/specialities/cybersec/index.html"
                >Cyber Security</a
              ></span
            >
            <ul class="nav__dropdown">
              <li class="dropdown__item">
                <a href="/specialities/cybersec/post_grad_online.html"
                  >Post-graduate Programs Online And in VA</a
                >
              </li>
              <li class="dropdown__item">
                <a href="/specialities/cybersec/financial_aid_scholarships.html"
                  >Financial Aid and Scholarships</a
                >
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </nav>

    <section class="content">
      <section class="hero">
        <h1 class="hero__header">
          Find your direction in IT and Cyber Security.
        </h1>

        <p class="hero__text">
          Navigate through the list of resources and materials that give a great
          intro into the vastness of opportunities
        </p>

        <!-- <button class="hero__action">Hede</button> -->
      </section>
      <section class="programs">
        <h2 class="programs__header">Programs</h2>

        <div class="programs__items">
          <div class="programs__item">
            <img
              src="./images/it-image.jpg"
              alt=""
              class="programs__item_img"
            />
            <div class="program__item_content">
              <h3>Information Technology.</h3>
              <p>Career information and Future outlook</p>
              <a
                class="programs__action"
                href="/specialities/infotech/index.html"
                >More info</a
              >
            </div>
          </div>

          <div class="programs__item">
            <img src="./images/lock.jpg" alt="" class="programs__item_img" />
            <div class="program__item_content">
              <h3>Cyber Security.</h3>
              <p>Career information and Future outlook</p>
              <a
                class="programs__action"
                href="/specialities/cybersec/index.html"
                >More info</a
              >
            </div>
          </div>
        </div>

        <div class="table_info">
          <h1 class="table_info__head">Growth Trend</h1>
          <table
            aria-label="show projected growth of skills in cyber security and information technology"
          >
            <thead>
              <tr>
                <th>Skill</th>
                <th>Projected Growth</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </section>
    </section>
  </body>

  <script>
    async function readInputFile(url) {
      return fetch(url).then((res) => res.text());
    }

    function makeTableRows(titles, values) {
      let rows = [];
      for (let index = 0; index < titles.length; index++) {
        let temp_row = `
            <tr>
                            <td>${titles[index]}</td>
                            <td>${values[index]}%</td>
                        </tr>
            `;
        rows.push(temp_row);
      }

      return rows;
    }

    function insertRowsToTableBody(rows) {
      document.querySelector("tbody").innerHTML = rows;
    }

    async function showTable() {
      let raw_input = await readInputFile("./stats/growing_skills.text");
      let [titles_line, values_line] = raw_input.trim().split("---");
      let titles = titles_line.split("\n").filter((entry) => entry.length);
      console.log(titles_line, values_line);
      let values = values_line.split("\n").filter((entry) => entry.length);
      let rows = makeTableRows(titles, values);
      insertRowsToTableBody(rows.join(""));
    }

    showTable();
  </script>
</html>
